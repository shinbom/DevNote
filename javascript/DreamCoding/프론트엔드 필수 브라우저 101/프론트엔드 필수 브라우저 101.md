# í”„ë¡ íŠ¸ì—”ë“œ í•„ìˆ˜ ë¸Œë¼ìš°ì € 101

# WEB APIs

Application Programming Interfaces

- DOM APIs
- Network APIs
- Graphics APIs
- Audio/Video APIs
- Devices APIs
- File APIs
- Storage ApIs

HTTPS(Hypertext Transfer Protocal Secure) - request, response

# Browser êµ¬ì¡° ë¶„ì„

- Window Object
- Document Object
- Navigator Object
- Browser Object Model

- DOM, BOM, JavaScript

# Window

- window.screen - window.screen.width, window.screen.height
- window.outer - window.outerWidth, window.outerHeight
- window.inner - window.innerWidth, window.innerHeight
- document.clientWidth

## coordinates(ì¢Œí‘œ)

ì¢Œì¸¡ìƒë‹¨ì„ ê¸°ì¤€ìœ¼ë¡œ (x, y) - 0, 0

- Element.getBoundingClientRect()
  - clientX, clientY : windowì°½ì˜ x,yì˜ ê°’
  - pageX, pageY : í˜ì´ì§€ ìì²´ì˜ x, yì˜ ê°’

## Window load

```jsx
// only document(html ë§Œ ë¡œë”©ë˜ë©´ ì‹¤í–‰)
// Tip : ë¦¬ì†ŒìŠ¤ê°€ ë§ì€ ê²½ìš°ì—ëŠ” ë¨¼ì € ì‹¤í–‰ë¨.
window.addEventListener("DOMContentLoaded", () => {
  console.log("DOMContentLoaded");
});

// after loaded(css, image ë¡œë”©ì´ ëë‚œí›„ ì‹¤í–‰);
window.addEventListener("load", () => {
  console.log("load");
});

//before unload
window.addEventListener("beforeunload", () => {
  console.log("beforeunload");
});

// resource is being unloaded
window.addEventListener("unload", () => {
  console.log("unload");
});
```

## Window Coordinates

```jsx
special.addEventListener("click", (event) => {
  const rect = special.getBoundingClientRect();
  console.log(rect);
  console.log(`client : ${event.clientX}, ${event.clientY}`);
  console.log(`page : ${event.pageX}, ${event.pageY}`);
});

const btn = document.querySelector("ul");
btn.addEventListener("click", (event) => {
  let cl = event.target.getAttribute("class");
  console.log(cl);
  if (cl == "by") {
    window.scrollBy({
      top: 100,
      left: 0,
      behavior: "smooth",
    });
  } else if (cl == "to") {
    window.scrollTo(0, 100);
  } else {
    special.scrollIntoView();
  }
});
```

- window.scrollTo(x, y) - ì°½ì˜ ìƒëŒ€ì¢Œí‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë™(í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€)
- window.scrollBy(x,y) - ì°½ì˜ ì ˆëŒ€ì¢Œí‘œë¡œ ê¸°ì¤€ìœ¼ë¡œ ì´ë™(ìƒë‹¨ ëª¨ì„œë¦¬ê°€ ê¸°ì¤€)
- window.scrollIntoVIew - ì—˜ë¦¬ë¨¼íŠ¸ê°€ ìˆëŠ” ê³³ìœ¼ë¡œ ì°½ì˜ ìŠ¤í¬ë¡¤ì´ ì´ë™í•¨.

## DOM

![DOM](./Untitled.png)

<aside>
ğŸ’¡ ëª¨ë“  ìš”ì†Œë“¤ì˜ ì¡°ìƒì€ EventTargetì´ë‹¤.

</aside>

## CSSON(CSS Object Model)

![CSSOM](./Untitled%201.png)

![Render Tree](./Untitled%202.png)

<aside>
ğŸ’¡ Render Treeì—ëŠ” ì‚¬ìš©ì ëˆˆì— ë³´ì´ëŠ” ê²ƒë“¤ë§Œ íŠ¸ë¦¬ì— í¬í•¨ì´ ë¨.

display:none;ì¸ ê²½ìš°ì—ëŠ” Render Treeì— í¬í•¨ë˜ì§€ ì•Šì§€ë§Œ, visibility:hidden; opacity:0ì˜ ê²½ìš°ì—ëŠ” Render Treeì— í¬í•¨ë¨.

</aside>

## Critical Rendering Path

<aside>
ğŸ’¡ ì„±ëŠ¥ ë³´ì¥ ë Œë”ë§ ìˆœì„œ

</aside>

1. HTML
2. request/response
3. loading
4. rendering(Render Tree ìƒì„±)
5. layout
6. painting

í¬ê²Œ, ConstructioníŒŒíŠ¸ì™€ Operationë¡œ ë‚˜ë‰¨

- Construction
  - DOM
  - CSSOM
  - RenderTree
- Operation

  - layout(Render Treeë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•˜ëŠ” ë‹¨ê³„)
  - paint

    - ë¸Œë¼ìš°ì € ì—”ì§„ë§ˆë‹¤ ë‹¤ì–‘í•œ ì†ì„±ê°’ì— ë”°ë¼ ë¬¶ì–´ì„œ ë ˆì´ì–´ë¥¼ ë§Œë“¬
    - CSSëŠ” ì„±ëŠ¥ê°œì„ ì„ ìœ„í•´ ë¬¶ì–´ì„œ ë ˆì´ì–´ë¥¼ ë§Œë“¤ì–´ ë‘ .
      <aside>
      ğŸ’¡ CSS will-change
      will-changeë¥¼ ë„ˆë¬´ ë§ì´ ë‚¨ìš©í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ë ˆì´ì–´ë¥¼ ë§ì´ ë§Œë“¤ê²Œ ë¨.

      </aside>

  - composition

- **rendering tree ì†ë„ ê°œì„ **

  - Contruction
    - DOM ìš”ì†Œê°€ ì‘ìœ¼ë©´ ì‘ì„ìˆ˜ë¡
      - ë¶ˆí•„ìš”í•œ íƒœê·¸ ì‚¬ìš©
      - ë¶ˆí•„ìš”í•œ divíƒœê·¸ ë‚¨ìš©
      - ì“¸ë°ì—†ëŠ” wrapping í´ë˜ìŠ¤ë‚˜ ìš”ì†Œ ì‚¬ìš©
    - CSS ê·œì¹™ì´ ì‘ìœ¼ë©´ ì‘ì„ìˆ˜ë¡ ë¹ ë¦„
  - Operation

    - í´ë¦­ì‹œ ìš”ì†Œë¥¼ ì›€ì§ì´ê±°ë‚˜, ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš©ì‹œ paintê°€ ì ê²Œ ì¼ì–´ë‚˜ë„ë¡ í•´ì•¼í•¨.
      <aside>
      ğŸ’¡ ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš©ì‹œ layoutë‹¨ê³„ê°€ ë‹¤ì‹œ ì¼ì–´ë‚˜ê²Œ ë˜ë©´ ì„±ëŠ¥ì— ì¢‹ì§€ ì•ŠìŒ.

      </aside>

## css will-change

<aside>
ğŸ’¡ chrome - development tools - layers - DOMì´ ê·¸ë¦¬ëŠ” layerë¥¼ ì²´í¬í•  ìˆ˜ ìˆìŒ.

</aside>

CSS Triggers - [http://csstriggers.com/](http://csstriggers.com/) - CSSì˜ ë Œë”ë§ ë‹¨ê³„ê°€ ë‚˜ì˜´.

- top, leftë¡œ ì›€ì§ì„ì„ ì œì–´í•˜ëŠ” ê²ƒë³´ë‹¤ transform:translate(x,y)ë¥¼ ì´ìš”í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ì— ì¢‹ìŒ.

## Performance

<aside>
ğŸ’¡ chrome - development tools - Performanceíƒ­ì„ ì´ìš©í•´ì„œ ì„±ëŠ¥ì„ ì²´í¬í•  ìˆ˜ ìˆìŒ.

</aside>

1. Recordë¥¼ ëˆŒëŸ¬ì„œ ë™ì‘ì„ í•˜ê³  Stopì„ í•˜ê²Œ ë˜ë©´, í”„ë¡œíŒŒì¼ë§ì´ ë‚˜íƒ€ë‚¨.

   - ë¹¨ê°„ìƒ‰ : ê²½ê³ 
   - Summaryì— Scripting, Renderingë“± í†µê³„ê°€ ë‚˜íƒ€ë‚¨.
   - ì‚¬ìš©ìê°€ ë¶€ë“œëŸ½ë‹¤ê³  ëŠë¼ê¸° ìœ„í•´ì„œëŠ” 1ì´ˆì— 60frameì´ í™”ë©´ì— ë³´ì˜‚ì—¬ì ¸ì•¼ í•˜ëŠ”ë°.. ê·¸ë ‡ê²Œ í•˜ë ¤ë©´ í•œ frameì´ 16.67msì•ˆì— ì´ë¤„ì ¸ì•¼ í•¨.

     - 16msê°€ ë„˜ì–´ê°€ëŠ” ìˆœê°„ í™”ë©´ì´ ê¹œë¹¡ê±°ë¦°ë‹¤ê³  ì¸ì§€í•  ìˆ˜ ìˆìŒ. ( Layout shift )
       <aside>
       ğŸ’¡ **Warning** : Cumulative Layout Shifts can result in poor user experiences.

       </aside>

- **í¬ë¡¬ ê°œë°œì ë„êµ¬ì—ì„œ Ctrl + Shift + p ë¥¼ ëˆ„ë¥´ë©´ íŒ”ë ˆíŠ¸ê°€ ë‚˜ì˜¤ëŠ”ë°, Show layout shift regionsë©”ë‰´ë¥¼ ì‚¬ìš©ì‹œ ë ˆì´ì•„ì›ƒì´ ì–´ë–»ê²Œ ë°œìƒí•˜ê³  ìˆëŠ”ì§€ ë‚˜íƒ€ë‚œë‹¤.**

## DOM Control

- querySelector
- querySelectorAll
- appendChild
- insertBefore

## innerHtml vs element

```jsx
section.innerHTML = `
 <img src= ...>

`;
```

`ì„ ì‚¬ìš©í•˜ë©´, ë„ì–´ì“°ê¸°ì™€ ì¤„ë°”ê¿ˆë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.

ë¶€ë¶„ì ì¸ ë³€í™”ê°€ ìˆì„ ê²½ìš°ì—ëŠ” innerHTMLì„ ì‚¬ìš©ì‹œ, DOM Treeì™€ RenderTreeê°€ ë‹¤ì‹œ ê·¸ë ¤ì§€ê²Œ ëœë‹¤.

## Debugger

Sourceíƒ­ì—ì„œ ì½”ë“œê°€ ì í˜€ìˆëŠ” ìˆ«ìë¥¼ ëˆ„ë¥´ê²Œ ë˜ë©´, BreakPointsê°€ ìƒì„±ë¨.

Watchì—ì„œ í˜„ì¬ ì‘ë™ë˜ê³  ìˆëŠ” ì†ŒìŠ¤ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŒ.

## ì£¼ì„ì‘ì„± ìš”ë ¹

<aside>
ğŸ’¡ ì½”ë“œê°€ í•˜ëŠ” ê²ƒì„ ì„¤ëª…í•˜ëŠ” ì£¼ì„ì€ ë¶ˆí•„ìš”í•¨.
ì½”ë“œë¥¼ ë´ë„ ë¹¨ë¦¬ ì´í•´í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤ì€ ì£¼ì„ì´ ë¶ˆí•„ìš”í•¨.
ì–´ë–¤ ì˜ë„ë¡œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€, ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•œì§€.. ì™œë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ì£¼ì„ì´ ì¢‹ë‹¤.

</aside>

## Event

Event Handler

```jsx
$0.addEventListner('click' () =>{console.log('clicked!')}); // ì´ë²¤íŠ¸ í•¸ë“¤ë§
$0.removeEventListener('click', callback); // ì´ë²¤íŠ¸ ì‚­ì œ
$0.dispatchEvent(new Event('click')); // ì¸ê³µì ìœ¼ë¡œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬
```

### Event Captureing, Bubbling

ëŒ€ë¶€ë¶„ bubblingì„ ì œì–´í•˜ê²Œ ë¨.

<aside>
ğŸ’¡ Event Bubbling ë°©ì§€ì‹œ , event.stopPropagation() ê³¼  stopImmediatePropagation()ì„ ì‚¬ìš©í•˜ëŠ”ê±´ ì•ˆì¢‹ì„ ìˆ˜ ìˆìŒ. -> stopPropagation ê²ƒì—ì„œ ë‹¤ë¥¸ì‚¬ëŒì´ ì´ë²¤íŠ¸ í•¸ë“¤ë§í•œ ê²ƒì—ë„ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìŒ.

</aside>

<aside>
ğŸ’¡ preventDefault() ì‚¬ìš©ì‹œ ìœ ì˜í•  ì  -

</aside>

### Event Deligation

<aside>
ğŸ’¡ ë¶€ëª¨ì»¨í…Œì´ë„ˆëŠ” ì–´ë–¤ ìì‹ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë“  ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ë“¤ì„ ìˆ˜ ìˆìŒ

</aside>

### í•¨ìˆ˜

```jsx
function add(num1, num2) {
  return num1 + num2;
}

const doSomething = add;
const result = doSomething(2, 3);
console.log(result); // 5;
const resutl2 = add(2, 3);
console.log(resutl2);

function surprise(operator) {
  const result = operator(2, 3); // add
  console.log(result);
}

// ë§¤ê°œë³€ìˆ˜ë¡œ addí•¨ìˆ˜ë¥¼ ì „ë‹¬
surprise(add);
```

### booleanê³¼ ì˜¤í¼ë ˆì´í„° &&

```jsx
// false : 0, -0, '', null, undefined
// true : -1, 'hello, [],

let num; // undefined - false;

num && console.log(num);
// && - ì•ì´ true ì—¬ì•¼ ì‹¤í–‰ë¨
```

### í´ë˜ìŠ¤ì™€ ì½œë°±í•¨ìˆ˜

```jsx
class Counter() {
 constructor() {
  this.counter = 0;
 }

 increase() {
  this.counter++;
  console.log(this.counter);
  if (this.counter % 5 === 0) {
   console.log('yo!');
   runIf5Times(this.counter);
  }
 }
}

const collCounter = new Counter();
function printSomething(num) {
 console.log(`yo! ${num}`);
}

function alterNum(num) {
 alert(`Wow! ${num}`);
}

coolCounter.increase(printSomthing);
coolCounter.increase(alertNum);
```

```jsx
// refactoring
// constructorì— í•¨ìˆ˜ë¥¼ ë°›ë„ë¡ í•´ì„œ, ì¸ìë¡œ ë°›ì•„ì˜¨ê²ƒì„ ì²˜ë¦¬í•˜ë„ë¡ í•¨.

class Counter() {
 constructor(runEveryFiveTimes) {
  this.counter = 0;
  this.callback = runEveryFiveTimes;
 }

 increase() {
  this.counter++;
  console.log(this.counter);
  if (this.counter % 5 === 0) {
   console.log('yo!');
   //ì½œë°±í•¨ìˆ˜ë¥¼ ë“±ë¡í–ˆì„ ë–„ì—ëŠ” ì½œë°±ì´ ì—†ì„ë•Œì˜ ì²˜ë¦¬ë„ í•¨ê»˜ í•´ì•¼ í•¨
   this.callback && this.callback(this.counter);
  }
 }
}

function printSomething(num) {
 console.log(`yo! ${num}`);
}

function alterNum(num) {
 alert(`Wow! ${num}`);
}

const collCounter = new Counter(printSomething);
```

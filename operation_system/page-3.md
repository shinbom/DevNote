# 운영체제

## 캐시 메모리

데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치의 속도 차이에 따른 병목 현상을 줄이기 위한 메모리를 말한다.

데이터를 접근하는 시간이 오래 걸리는 경우를 해결하고 다시 계산하는 시간을 절약할 수 있다.

CPU와 메모리간 속도차이가 크기 때문에, 중간에 `레지스터 계층`을 둬서 속도 차이를 해결한다.

계층과 계층 사이에 있는 계층을 `캐싱 계층`이라고 한다.

## 캐시히트와 캐시미스

캐시에서 원하는 데이터를 찾았다면 `캐시히트`라고 한다.

데이터가 캐시가 없어서 주메모리로 가서 데이터를 찾아오는 것을 `캐시미스`라고 한다.

캐시가 히트되는 비율을 `캐시 적중률(cache hit ratio)`라고 하며 다음과같이 계산한다.

> 캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)

---

### 지역성 원리

캐시메모리는 원칙에 따라 메모리로부터 가져올 데이터를 결정한다.

프로그램의 10% 미만이 실행 시간의 90% 이상을 차지한다고 알려져 있는데, 이와 같은 경향을 지역성 원리(principle of locality) 또는 참조의 지역성(locality of references)라고 함.

<br/>

#### 시간적 지역성(temporal locality)

최근에 참조된 명령어나 데이터가 가까운 미래에 다시 참조되는 경향 (시가적 국부성이라고도 함.)

> 반복문의 경우, 명령어와 데이터에 반복 접근하므로 방금 사용한 명령어와 데이터가 곧 다시 사용되는 경향이 있음.

<br/>

#### 공간적 지역성(spatial locality)

최근에 참조된 명령어나 데이터의 이웃이 가까운 미래에 참조되는 경향 (공간적 국부성이라고 함)

> 순차적으로 실행되는 코드의 경우, 현재 실행된 명령어의 가까운 곳에 있는 명령어가 곧 참조될 가능성이 높다.
